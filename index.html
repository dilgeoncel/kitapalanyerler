<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ä°stanbul Kitap Alan Yerler - 0532 688 66 35</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ecf0f1;
        }

        .phone {
            font-size: 1.2rem;
            color: #e74c3c;
            font-weight: bold;
        }

        /* Navigation */
        nav {
            background: #34495e;
            padding: 1rem 0;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            justify-content: center;
            flex-wrap: wrap;
        }

        .nav-menu li {
            margin: 0 1rem;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 5px;
        }

        .nav-menu a:hover {
            background: #2c3e50;
            color: #3498db;
        }

        /* Admin indicator */
        .admin-indicator {
            background: #27ae60;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.85rem;
            margin-left: 1rem;
            display: none;
        }

        .admin-indicator.active {
            display: inline-block;
        }

        /* Main Content */
        .main-content {
            display: none;
            padding: 2rem 0;
        }

        .main-content.active {
            display: block;
        }

        /* Hero Section */
        .hero {
            background: white;
            padding: 3rem 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            border-radius: 10px;
            position: relative;
        }

        .hero-image {
            width: 100%;
            max-width: 600px;
            height: 300px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .hero h1 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 2.5rem;
        }

        .hero p {
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 2rem;
        }

        .cta-button {
            background: #e74c3c;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .cta-button:hover {
            background: #c0392b;
        }

        /* Districts Section */
        .districts {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .districts h2 {
            color: #2c3e50;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .districts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .district-item {
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            transition: all 0.3s ease;
            color: white;
            font-weight: 500;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        /* Modern renk paleti */
        .district-item:nth-child(1) { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .district-item:nth-child(2) { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .district-item:nth-child(3) { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .district-item:nth-child(4) { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .district-item:nth-child(5) { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .district-item:nth-child(6) { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #333; }
        .district-item:nth-child(7) { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: #333; }
        .district-item:nth-child(8) { background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); }
        .district-item:nth-child(9) { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); color: #333; }
        .district-item:nth-child(10) { background: linear-gradient(135deg, #ff8a80 0%, #ea4c89 100%); }
        .district-item:nth-child(11) { background: linear-gradient(135deg, #8fd3f4 0%, #84fab0 100%); color: #333; }
        .district-item:nth-child(12) { background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%); color: #333; }
        .district-item:nth-child(13) { background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); }
        .district-item:nth-child(14) { background: linear-gradient(135deg, #fdbb2d 0%, #22c1c3 100%); }
        .district-item:nth-child(15) { background: linear-gradient(135deg, #e0c3fc 0%, #9bb5ff 100%); }
        .district-item:nth-child(16) { background: linear-gradient(135deg, #ffefd5 0%, #ffdfba 100%); color: #333; }
        .district-item:nth-child(17) { background: linear-gradient(135deg, #c2e9fb 0%, #a1c4fd 100%); color: #333; }
        .district-item:nth-child(18) { background: linear-gradient(135deg, #f6d365 0%, #fda085 100%); }
        .district-item:nth-child(19) { background: linear-gradient(135deg, #96fbc4 0%, #f9f586 100%); color: #333; }
        .district-item:nth-child(20) { background: linear-gradient(135deg, #f78ca0 0%, #f9748f 100%); }
        .district-item:nth-child(21) { background: linear-gradient(135deg, #fd1d1d 0%, #fcb045 100%); }
        .district-item:nth-child(22) { background: linear-gradient(135deg, #833ab4 0%, #fd1d1d 100%); }
        .district-item:nth-child(23) { background: linear-gradient(135deg, #667db6 0%, #0082c8 100%); }
        .district-item:nth-child(24) { background: linear-gradient(135deg, #f83600 0%, #f9d423 100%); }
        .district-item:nth-child(25) { background: linear-gradient(135deg, #4b79a1 0%, #283e51 100%); }
        .district-item:nth-child(26) { background: linear-gradient(135deg, #0ba360 0%, #3cba92 100%); }
        .district-item:nth-child(27) { background: linear-gradient(135deg, #ff5722 0%, #ff9800 100%); }
        .district-item:nth-child(28) { background: linear-gradient(135deg, #2196f3 0%, #21cbf3 100%); }
        .district-item:nth-child(29) { background: linear-gradient(135deg, #673ab7 0%, #512da8 100%); }
        .district-item:nth-child(30) { background: linear-gradient(135deg, #ff6f00 0%, #ff8f00 100%); }
        .district-item:nth-child(31) { background: linear-gradient(135deg, #1de9b6 0%, #1dc4e9 100%); }
        .district-item:nth-child(32) { background: linear-gradient(135deg, #6a1b9a 0%, #ab47bc 100%); }
        .district-item:nth-child(33) { background: linear-gradient(135deg, #00695c 0%, #4db6ac 100%); }
        .district-item:nth-child(34) { background: linear-gradient(135deg, #ef6c00 0%, #f57c00 100%); }
        .district-item:nth-child(35) { background: linear-gradient(135deg, #388e3c 0%, #66bb6a 100%); }
        .district-item:nth-child(36) { background: linear-gradient(135deg, #7b1fa2 0%, #ba68c8 100%); }
        .district-item:nth-child(37) { background: linear-gradient(135deg, #303f9f 0%, #7986cb 100%); }
        .district-item:nth-child(38) { background: linear-gradient(135deg, #689f38 0%, #9ccc65 100%); }
        .district-item:nth-child(39) { background: linear-gradient(135deg, #e64a19 0%, #ff8a65 100%); }

        .district-item:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        /* Services Section */
        .services {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .services h2 {
            color: #2c3e50;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .service-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            justify-content: center;
            align-items: center;
            max-width: 1000px;
            margin: 0 auto;
        }

        .tag {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(52, 152, 219, 0.2);
        }

        .tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
            background: linear-gradient(135deg, #2980b9, #3498db);
        }

        .tag:nth-child(3n+1) {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            box-shadow: 0 2px 5px rgba(231, 76, 60, 0.2);
        }

        .tag:nth-child(3n+1):hover {
            background: linear-gradient(135deg, #c0392b, #e74c3c);
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
        }

        .tag:nth-child(3n+2) {
            background: linear-gradient(135deg, #27ae60, #229954);
            box-shadow: 0 2px 5px rgba(39, 174, 96, 0.2);
        }

        .tag:nth-child(3n+2):hover {
            background: linear-gradient(135deg, #229954, #27ae60);
            box-shadow: 0 4px 12px rgba(39, 174, 96, 0.3);
        }

        /* Contact Page */
        .contact-info {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .contact-item {
            text-align: center;
            padding: 1.5rem;
            background: #ecf0f1;
            border-radius: 10px;
        }

        .contact-item h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        /* Blog Section */
        .blog-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .blog-posts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .blog-post {
            border: 1px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .blog-post:hover {
            transform: translateY(-5px);
        }

        .blog-post-content {
            padding: 1.5rem;
        }

        .blog-post h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        .blog-post-meta {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .blog-preview {
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .read-more-link {
            color: #3498db;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: color 0.3s;
        }

        .read-more-link:hover {
            color: #2980b9;
            text-decoration: underline;
        }

        /* Admin Section */
        .admin-section {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #2c3e50;
            font-weight: bold;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .btn {
            background: #3498db;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #2980b9;
        }

        .btn-danger {
            background: #e74c3c;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        /* Footer */
        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                text-align: center;
            }

            .nav-menu {
                flex-direction: column;
                align-items: center;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .districts-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }

        .hidden {
            display: none;
        }

        .admin-panel {
            margin-top: 2rem;
            padding: 2rem;
            background: #ecf0f1;
            border-radius: 10px;
        }

        .post-item {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        .post-actions {
            margin-top: 1rem;
        }

        .post-actions button {
            margin-right: 0.5rem;
        }

        .blog-post img {
            width: 100%;
            height: 220px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 1rem;
            display: block;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .blog-post img:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        /* Image Modal */
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 2rem;
            box-sizing: border-box;
        }

        .image-modal img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .image-modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            background: rgba(0,0,0,0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .image-modal-close:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }

        /* Already logged in message */
        .already-logged-in {
            text-align: center;
            padding: 3rem 2rem;
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3);
        }

        .already-logged-in h2 {
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .already-logged-in p {
            margin-bottom: 2rem;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .go-to-panel-btn {
            background: white;
            color: #27ae60;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .go-to-panel-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        /* Debug Console Styles */
        .debug-console {
            background: #1a1a1a;
            color: #00ff00;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            max-height: 200px;
            overflow-y: auto;
            margin: 1rem 0;
            border: 2px solid #333;
        }

        .debug-console .error {
            color: #ff4444;
        }

        .debug-console .success {
            color: #44ff44;
        }

        .debug-console .warning {
            color: #ffaa44;
        }

        /* Status indicators */
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .status-connected {
            background: #4caf50;
            box-shadow: 0 0 5px #4caf50;
        }

        .status-error {
            background: #f44336;
            box-shadow: 0 0 5px #f44336;
        }

        .status-warning {
            background: #ff9800;
            box-shadow: 0 0 5px #ff9800;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">Ä°stanbul Kitap Alan Yerler</div>
                <div style="display: flex; align-items: center;">
                    <div class="phone" style="cursor: pointer;" onclick="openWhatsApp()">ğŸ“ +90 532 688 66 35</div>
                    <div id="admin-indicator" class="admin-indicator">
                        ğŸ‘¤ Admin GiriÅŸi YapÄ±ldÄ±
                    </div>
                </div>
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul class="nav-menu">
                <li><a href="#" onclick="showPage('home')">Ana Sayfa</a></li>
                <li><a href="#" onclick="showPage('contact')">Ä°letiÅŸim</a></li>
                <li><a href="#" onclick="showPage('blog')">Blog</a></li>
            </ul>
        </div>
    </nav>

    <!-- Ana Sayfa -->
    <div id="home" class="main-content active">
        <div class="container">
            <section class="hero">
                <img src="https://kultur.istanbul/gorsel/2022/03/kapak.png" alt="Ä°stanbul kitap satmak evden kitap toplama" class="hero-image">
                <h1>Ä°stanbul'da KitaplarÄ±nÄ±zÄ± Satmak Ä°Ã§in En Uygun Adres</h1>
                <div class="hero-content">
                    <p style="font-size: 1.2rem; color: #2c3e50; margin-bottom: 1.5rem; line-height: 1.7;">
                        <strong>Eski kitaplarÄ±nÄ±zÄ± nereye satacaÄŸÄ±nÄ±zÄ±</strong> merak ediyorsanÄ±z doÄŸru yerdesiniz! Ä°stanbul'un tÃ¼m ilÃ§elerinde 
                        <strong>evden kitap toplama servisi</strong> ile ikinci el, antika ve nadir kitaplarÄ±nÄ±zÄ± <strong>en uygun fiyatlarla</strong> satÄ±n alÄ±yoruz. 
                        Uzman ekibimiz adresinize gelir, <strong>kitap koleksiyonunuzun deÄŸer tespitini</strong> yapar ve <strong>anÄ±nda nakit Ã¶deme</strong> yapar.
                    </p>
                    <p style="font-size: 1.1rem; color: #34495e; margin-bottom: 1.5rem; line-height: 1.6;">
                        ğŸ“š <strong>Toptan kitap satÄ±ÅŸ</strong> imkÃ¢nÄ±: Tek kitaptan binlerce kitaba kadar<br>
                        ğŸ  <strong>Nakit karÅŸÄ±lÄ±ÄŸÄ± kitap alan yerler</strong> arasÄ±nda Ä°stanbul geneli hizmet<br>
                        ğŸ’° <strong>Ä°kinci el kitap satÄ±ÅŸ fiyatlarÄ±</strong> iÃ§in anÄ±nda deÄŸerlendirme<br>
                        â­ <strong>Antika kitap deÄŸer tespiti</strong> konusunda 15+ yÄ±l tecrÃ¼be<br>
                        ğŸš› <strong>Evden kitap alma</strong> servisi tamamen Ã¼cretsiz
                    </p>
                </div>
                
                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-bottom: 1rem;">
                    <button class="cta-button" onclick="showPage('contact'); return false;">ğŸ“ Ãœcretsiz DeÄŸerlendirme</button>
                    <button onclick="openWhatsApp()" style="
                        background: #25d366;
                        color: white;
                        padding: 15px 30px;
                        border: none;
                        border-radius: 5px;
                        font-size: 1.1rem;
                        cursor: pointer;
                        transition: all 0.3s;
                        font-weight: bold;
                        display: flex;
                        align-items: center;
                        gap: 0.5rem;
                    " onmouseover="this.style.transform='translateY(-2px)'; this.style.backgroundColor='#22c55e'" onmouseout="this.style.transform='translateY(0)'; this.style.backgroundColor='#25d366'">
                        WhatsApp Fiyat Al
                    </button>
                </div>
                
                <!-- Gizli admin eriÅŸim ipucu -->
                <div style="position: absolute; bottom: 10px; right: 10px; font-size: 0.7rem; color: transparent; cursor: help;" 
                     title="Admin EriÅŸimi: Shift + Ctrl + Q" 
                     onmouseover="this.style.color='#bdc3c7'" 
                     onmouseout="this.style.color='transparent'">âš™ï¸</div>
            </section>

            <section class="districts">
                <h2>Ä°stanbul'da Evden Kitap Toplama Hizmet VerdiÄŸimiz Ä°lÃ§eler</h2>
                <p style="text-align: center; margin-bottom: 2rem; color: #7f8c8d; font-size: 1.1rem;">
                    <strong>Nakit karÅŸÄ±lÄ±ÄŸÄ± kitap alan yerler</strong> arasÄ±nda Ä°stanbul'un tÃ¼m ilÃ§elerine 
                    <strong>Ã¼cretsiz evden kitap alma</strong> servisi sunuyoruz.
                </p>
                <div class="districts-grid">
                    <div class="district-item">KadÄ±kÃ¶y<br><small>Merkez Ofisimiz</small></div>
                    <div class="district-item">BeÅŸiktaÅŸ<br><small>Premium Hizmet</small></div>
                    <div class="district-item">ÅiÅŸli<br><small>Prestij BÃ¶lge</small></div>
                    <div class="district-item">BakÄ±rkÃ¶y<br><small>Nakit Ã–deme</small></div>
                    <div class="district-item">ÃœskÃ¼dar<br><small>Tarihi BÃ¶lge</small></div>
                    <div class="district-item">Fatih<br><small>Tarihi Eser UzmanÄ±</small></div>
                    <div class="district-item">BeyoÄŸlu<br><small>Antika DeÄŸerlendirme</small></div>
                    <div class="district-item">AtaÅŸehir<br><small>Toptan AlÄ±m</small></div>
                </div>
            </section>

            <section class="services">
                <h2>Hangi Kitap TÃ¼rlerini SatÄ±n AlÄ±yoruz</h2>
                <div class="service-tags">
                    <span class="tag">Ä°kinci El Kitap SatÄ±ÅŸ</span>
                    <span class="tag">Antika Kitap DeÄŸer Tespiti</span>
                    <span class="tag">Ãœniversite KitaplarÄ± Satmak</span>
                    <span class="tag">TÄ±p KitabÄ± SatÄ±ÅŸ FiyatlarÄ±</span>
                    <span class="tag">Hukuk KitaplarÄ± SatÄ±ÅŸ</span>
                    <span class="tag">MÃ¼hendislik KitaplarÄ± Alan Yerler</span>
                    <span class="tag">Roman KitaplarÄ± SatÄ±ÅŸ</span>
                    <span class="tag">OsmanlÄ±ca Kitap SatÄ±ÅŸ</span>
                    <span class="tag">Ä°mzalÄ± Kitap DeÄŸer Tespiti</span>
                    <span class="tag">Ansiklopedi SatÄ±ÅŸ FiyatlarÄ±</span>
                    <span class="tag">Ã‡ocuk KitaplarÄ± SatÄ±ÅŸ</span>
                    <span class="tag">Dini Kitap SatÄ±ÅŸ</span>
                </div>
            </section>
        </div>
    </div>

    <!-- Ä°letiÅŸim SayfasÄ± -->
    <div id="contact" class="main-content">
        <div class="container">
            <div class="contact-info">
                <h1 style="text-align: center; margin-bottom: 2rem; color: #2c3e50;">Ä°letiÅŸim - Kitap SatÄ±ÅŸ HattÄ±</h1>
                <div class="contact-grid">
                    <div class="contact-item">
                        <h3>ğŸ“ Telefon</h3>
                        <p>+90 532 688 66 35</p>
                        <button onclick="callPhone()" class="cta-button">Hemen ArayÄ±n</button>
                    </div>
                    <div class="contact-item">
                        <h3>ğŸ’¬ WhatsApp</h3>
                        <p>7/24 HÄ±zlÄ± Ä°letiÅŸim</p>
                        <button onclick="openWhatsApp()" class="cta-button" style="background: #25d366;">WhatsApp Mesaj</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Blog SayfasÄ± -->
    <div id="blog" class="main-content">
        <div class="container">
            <div class="blog-container">
                <h1 style="text-align: center; margin-bottom: 2rem; color: #2c3e50;">Blog YazÄ±larÄ±</h1>
                <div id="blog-posts" class="blog-posts">
                    <!-- Blog yazÄ±larÄ± buraya yÃ¼klenecek -->
                </div>
            </div>
        </div>
    </div>

    <!-- YÃ¶netici GiriÅŸ SayfasÄ± -->
    <div id="admin-login" class="main-content hidden">
        <div class="container">
            <div class="admin-section">
                <div id="login-form">
                    <h2 style="text-align: center; margin-bottom: 1rem; color: #2c3e50;">ğŸ” Gizli YÃ¶netici GiriÅŸi</h2>
                    <p style="text-align: center; color: #7f8c8d; font-size: 0.9rem; margin-bottom: 2rem;">
                        Bu sayfaya <kbd style="background: #ecf0f1; padding: 2px 6px; border-radius: 3px;">Shift + Ctrl + Q</kbd> ile eriÅŸtiniz
                    </p>
                    <div class="form-group">
                        <label for="username">KullanÄ±cÄ± AdÄ±:</label>
                        <input type="text" id="username" name="username" onkeypress="if(event.key==='Enter') handleLogin()">
                    </div>
                    <div class="form-group">
                        <label for="password">Åifre:</label>
                        <input type="password" id="password" name="password" onkeypress="if(event.key==='Enter') handleLogin()">
                    </div>
                    <button type="button" class="btn" onclick="handleLogin(); return false;">GiriÅŸ Yap</button>
                </div>

                <div id="already-logged-in" class="already-logged-in" style="display: none;">
                    <h2>âœ… Zaten GiriÅŸ YapÄ±lmÄ±ÅŸ</h2>
                    <p>Admin olarak sisteme zaten giriÅŸ yapmÄ±ÅŸsÄ±nÄ±z.</p>
                    <button class="go-to-panel-btn" onclick="showPage('admin-panel'); return false;">
                        ğŸš€ YÃ¶netici Paneline Git
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- YÃ¶netici Paneli -->
    <div id="admin-panel" class="main-content">
        <div class="container">
            <div class="admin-section">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #2c3e50;">YÃ¶netici Paneli</h2>
                <button class="btn btn-danger" onclick="logout(); return false;" style="float: right;">ğŸšª Ã‡Ä±kÄ±ÅŸ Yap</button>
                
                <!-- Sistem Durumu -->
                <div style="background: #e8f5e8; padding: 1rem; border-radius: 10px; margin-bottom: 1rem; border-left: 4px solid #4caf50;">
                    <h4 style="color: #2e7d32; margin-bottom: 0.5rem; display: flex; align-items: center;">
                        <span class="status-indicator status-connected"></span>
                        ğŸ”— Sistem Durumu
                    </h4>
                    <div id="system-status" style="font-size: 0.9rem; color: #2e7d32;">
                        <p>âœ… Blog sistemi aktif</p>
                        <p>âœ… JSON dosyasÄ± eriÅŸilebilir</p>
                        <p id="github-connection-status">â³ GitHub baÄŸlantÄ±sÄ± kontrol ediliyor...</p>
                    </div>
                </div>

                <!-- GitHub API YÃ¶netimi -->
                <div style="background: #e3f2fd; padding: 1rem; border-radius: 10px; margin-bottom: 1rem; border-left: 4px solid #2196f3;">
                    <h4 style="color: #1976d2; margin-bottom: 0.5rem;">ğŸ”— GitHub API Durumu</h4>
                    <p id="github-status" style="margin-bottom: 1rem; color: #424242; font-size: 0.9rem;">Token durumu kontrol ediliyor...</p>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <button onclick="checkGitHubToken()" class="btn" style="background: #2196f3; font-size: 0.9rem; padding: 0.4rem 0.8rem;">ğŸ” Kontrol Et</button>
                        <button onclick="setGitHubToken()" class="btn" style="background: #4caf50; font-size: 0.9rem; padding: 0.4rem 0.8rem;">ğŸ”‘ Token Ayarla</button>
                        <button onclick="clearGitHubToken()" class="btn btn-danger" style="font-size: 0.9rem; padding: 0.4rem 0.8rem;">ğŸ—‘ï¸ Token Sil</button>
                        <button onclick="testGitHubConnection()" class="btn" style="background: #ff9800; font-size: 0.9rem; padding: 0.4rem 0.8rem;">ğŸ§ª BaÄŸlantÄ± Test</button>
                    </div>
                </div>
                
                <!-- Debug Console -->
                <div style="background: #f5f5f5; padding: 1rem; border-radius: 10px; margin-bottom: 1rem; border-left: 4px solid #9e9e9e;">
                    <h4 style="color: #424242; margin-bottom: 0.5rem;">ğŸ› Debug Console</h4>
                    <div id="debug-console" class="debug-console">
                        <div>System initialized...</div>
                    </div>
                    <button onclick="clearDebugConsole()" class="btn" style="background: #757575; font-size: 0.8rem; padding: 0.3rem 0.6rem; margin-top: 0.5rem;">Temizle</button>
                </div>
                
                <div style="clear: both;"></div>
                
                <div class="admin-panel">
                    <h3>Yeni Blog YazÄ±sÄ± Ekle</h3>
                    <div id="blog-form">
                        <div class="form-group">
                            <label for="post-title">BaÅŸlÄ±k:</label>
                            <input type="text" id="post-title" name="post-title" required placeholder="Blog yazÄ±sÄ± baÅŸlÄ±ÄŸÄ±">
                        </div>
                        <div class="form-group">
                            <label for="post-image">Resim URL:</label>
                            <input type="url" id="post-image" name="post-image" placeholder="https://example.com/image.jpg">
                        </div>
                        <div class="form-group">
                            <label for="post-content">Ä°Ã§erik:</label>
                            <textarea id="post-content" name="post-content" rows="6" required placeholder="Blog yazÄ±sÄ± iÃ§eriÄŸi..."></textarea>
                        </div>
                        <button type="button" class="btn" onclick="handleBlogSubmit(); return false;" id="blog-submit-btn">ğŸ“¤ YazÄ±yÄ± YayÄ±nla</button>
                    </div>
                </div>

                <div class="admin-panel">
                    <h3>Mevcut Blog YazÄ±larÄ±</h3>
                    <div id="admin-blog-list">
                        <!-- Blog yÃ¶netim listesi buraya yÃ¼klenecek -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 Ä°stanbul Kitap Satmak - Evden Kitap Toplama Servisi. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
            <p>
                <span onclick="openWhatsApp()" style="cursor: pointer; color: #25d366; font-weight: bold;">ğŸ“ +90 532 688 66 35</span> | 
                ğŸ“§ sahafhemdem@gmail.com | 
                ğŸ“ KadÄ±kÃ¶y / Ä°stanbul
            </p>
        </div>
    </footer>

    <script>
        // Global deÄŸiÅŸkenler
        let isAdminLoggedIn = false;
        let debugLog = [];

        // GÃ¼venlik deÄŸerleri
        const securityTokens = {
            u: 'ZGlsZ2VvbmNlbA==',
            p: 'MzAwNDgw',
            salt: 'c2VjdXJl'
        };

        // Debug Console FonksiyonlarÄ±
        function addDebugLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = { timestamp, message, type };
            debugLog.push(logEntry);
            
            // Debug console'a ekle
            const console = document.getElementById('debug-console');
            if (console) {
                const div = document.createElement('div');
                div.className = type;
                div.innerHTML = `[${timestamp}] ${message}`;
                console.appendChild(div);
                console.scrollTop = console.scrollHeight;
            }
        }

        function clearDebugConsole() {
            debugLog = [];
            const console = document.getElementById('debug-console');
            if (console) {
                console.innerHTML = '<div>Debug console cleared...</div>';
            }
        }

        // Platform algÄ±lama ve iletiÅŸim fonksiyonlarÄ±
        function detectPlatform() {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            
            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                return 'ios';
            }
            if (/android/i.test(userAgent)) {
                return 'android';
            }
            return 'web';
        }

        function openWhatsApp() {
            const message = "Merhaba! Kitap satÄ±ÅŸÄ± hakkÄ±nda bilgi almak istiyorum.";
            const phoneNumber = "905326886635";
            const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            
            try {
                window.open(whatsappUrl, '_blank');
                addDebugLog('WhatsApp opened successfully');
            } catch (error) {
                addDebugLog('WhatsApp open error: ' + error.message, 'error');
            }
        }

        function callPhone() {
            const phoneNumber = "+905326886635";
            try {
                window.open(`tel:${phoneNumber}`, '_self');
                addDebugLog('Phone call initiated');
            } catch (error) {
                addDebugLog('Phone call error: ' + error.message, 'error');
                alert(`ğŸ“ LÃ¼tfen bu numarayÄ± arayÄ±n: ${phoneNumber}`);
            }
        }

        // GiriÅŸ sistemi
        function validateCredentials(usr, pwd) {
            const validUser = atob(securityTokens.u);
            const validPass = atob(securityTokens.p);
            return (usr.toLowerCase() === validUser && pwd === validPass);
        }

        function handleLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('LÃ¼tfen kullanÄ±cÄ± adÄ± ve ÅŸifre alanlarÄ±nÄ± doldurun!');
                return;
            }
            
            if (validateCredentials(username, password)) {
                updateAdminStatus(true);
                alert('ğŸ‰ BaÅŸarÄ±yla giriÅŸ yaptÄ±nÄ±z!');
                showPage('admin-panel');
                addDebugLog('Admin login successful', 'success');
                
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
            } else {
                addDebugLog('Login attempt failed', 'error');
                alert('âŒ KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±');
            }
        }

        function logout() {
            updateAdminStatus(false);
            showPage('home');
            addDebugLog('Admin logout', 'warning');
            alert('ğŸ‘‹ BaÅŸarÄ±yla Ã§Ä±kÄ±ÅŸ yaptÄ±nÄ±z!');
        }

        function updateAdminStatus(loggedIn) {
            isAdminLoggedIn = loggedIn;
            const adminIndicator = document.getElementById('admin-indicator');
            
            if (loggedIn) {
                adminIndicator.classList.add('active');
            } else {
                adminIndicator.classList.remove('active');
            }
        }

        // Sayfa geÃ§iÅŸ sistemi
        function showPage(pageId) {
            if (pageId === 'admin-login' && isAdminLoggedIn) {
                document.getElementById('login-form').style.display = 'none';
                document.getElementById('already-logged-in').style.display = 'block';
            } else if (pageId === 'admin-login') {
                document.getElementById('login-form').style.display = 'block';
                document.getElementById('already-logged-in').style.display = 'none';
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
            }

            const pages = document.querySelectorAll('.main-content');
            pages.forEach(page => page.classList.remove('active'));
            
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                
                if (pageId === 'admin-panel') {
                    setTimeout(() => {
                        updateAdminPanel();
                        loadBlogsFromJSON();
                    }, 100);
                } else if (pageId === 'blog') {
                    setTimeout(loadBlogsFromJSON, 100);
                }
            }
        }

        // GitHub Token YÃ¶netimi - GeliÅŸtirilmiÅŸ versiyon
        function getGitHubToken() {
            return localStorage.getItem('github-token');
        }

        async function checkGitHubToken() {
            const token = getGitHubToken();
            const statusElement = document.getElementById('github-status');
            
            if (token) {
                try {
                    // Token geÃ§erliliÄŸini test et
                    const response = await fetch('https://api.github.com/user', {
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });

                    if (response.ok) {
                        const userData = await response.json();
                        statusElement.innerHTML = `
                            <span style="color: #4caf50;">âœ… <strong>GitHub Token aktif</strong></span><br>
                            <small>KullanÄ±cÄ±: ${userData.login} | Blog yazÄ±larÄ± otomatik kaydedilecek</small>
                        `;
                        addDebugLog('GitHub token validated successfully', 'success');
                        updateGitHubConnectionStatus(true);
                    } else {
                        throw new Error(`Token geÃ§ersiz (${response.status})`);
                    }
                } catch (error) {
                    statusElement.innerHTML = `
                        <span style="color: #f44336;">âŒ <strong>GitHub Token geÃ§ersiz</strong></span><br>
                        <small>Hata: ${error.message}</small>
                    `;
                    addDebugLog('GitHub token validation failed: ' + error.message, 'error');
                    updateGitHubConnectionStatus(false);
                }
            } else {
                statusElement.innerHTML = `
                    <span style="color: #f44336;">âŒ <strong>GitHub Token bulunamadÄ±</strong></span><br>
                    <small>Blog yazÄ±larÄ± manuel olarak JSON dosyasÄ±na eklenmelidir</small>
                `;
                addDebugLog('No GitHub token found', 'warning');
                updateGitHubConnectionStatus(false);
            }
        }

        function updateGitHubConnectionStatus(isConnected) {
            const statusElement = document.getElementById('github-connection-status');
            if (statusElement) {
                if (isConnected) {
                    statusElement.innerHTML = 'âœ… GitHub API baÄŸlantÄ±sÄ± baÅŸarÄ±lÄ±';
                    statusElement.style.color = '#2e7d32';
                } else {
                    statusElement.innerHTML = 'âŒ GitHub API baÄŸlantÄ±sÄ± baÅŸarÄ±sÄ±z';
                    statusElement.style.color = '#d32f2f';
                }
            }
        }

        function setGitHubToken() {
            const instructions = `GitHub Personal Access Token oluÅŸturmak iÃ§in:

1. GitHub.com â†’ Settings â†’ Developer settings â†’ Personal access tokens â†’ Tokens (classic)
2. "Generate new token (classic)" butonuna tÄ±klayÄ±n
3. Token adÄ±: "Blog Management" 
4. "repo" yetkisini seÃ§in
5. "Generate token" butonuna tÄ±klayÄ±n
6. Token'Ä± kopyalayÄ±n (Sadece bir kez gÃ¶sterilir!)

Token'Ä±nÄ±zÄ± aÅŸaÄŸÄ±ya yapÄ±ÅŸtÄ±rÄ±n:`;
            
            const token = prompt(instructions);
            
            if (token && token.trim()) {
                localStorage.setItem('github-token', token.trim());
                alert('âœ… GitHub Token kaydedildi!');
                addDebugLog('GitHub token set', 'success');
                checkGitHubToken();
                return true;
            }
            return false;
        }

        function clearGitHubToken() {
            const confirmed = confirm('GitHub Token\'Ä± silmek istediÄŸinizden emin misiniz?');
            
            if (confirmed) {
                localStorage.removeItem('github-token');
                alert('ğŸ—‘ï¸ GitHub Token silindi.');
                addDebugLog('GitHub token cleared', 'warning');
                checkGitHubToken();
            }
        }

        async function testGitHubConnection() {
            const token = getGitHubToken();
            if (!token) {
                alert('âŒ Ã–nce GitHub Token ayarlayÄ±n!');
                return;
            }

            addDebugLog('Testing GitHub connection...', 'info');

            try {
                // 1. User bilgisi al
                const userResponse = await fetch('https://api.github.com/user', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });

                if (!userResponse.ok) {
                    throw new Error(`User API failed: ${userResponse.status}`);
                }

                const userData = await userResponse.json();
                addDebugLog(`Connected as: ${userData.login}`, 'success');

                // 2. Repository eriÅŸimi test et
                const repoResponse = await fetch('https://api.github.com/repos/dilgeoncel/kitapalanyerler', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });

                if (!repoResponse.ok) {
                    throw new Error(`Repository access failed: ${repoResponse.status}`);
                }

                const repoData = await repoResponse.json();
                addDebugLog(`Repository access: ${repoData.full_name}`, 'success');

                // 3. blogs.json dosyasÄ± var mÄ± kontrol et
                const fileResponse = await fetch('https://api.github.com/repos/dilgeoncel/kitapalanyerler/contents/blogs.json', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });

                if (fileResponse.ok) {
                    addDebugLog('blogs.json file exists', 'success');
                } else if (fileResponse.status === 404) {
                    addDebugLog('blogs.json file not found - will be created', 'warning');
                } else {
                    throw new Error(`File check failed: ${fileResponse.status}`);
                }

                alert('âœ… GitHub baÄŸlantÄ±sÄ± baÅŸarÄ±lÄ±! Detaylar iÃ§in debug console\'u kontrol edin.');

            } catch (error) {
                addDebugLog('GitHub connection test failed: ' + error.message, 'error');
                alert('âŒ GitHub baÄŸlantÄ± testi baÅŸarÄ±sÄ±z: ' + error.message);
            }
        }

        function updateAdminPanel() {
            checkGitHubToken();
        }

        // Blog Sistemi - GeliÅŸtirilmiÅŸ ve hata kontrolÃ¼ eklenmiÅŸ versiyon
        async function loadBlogsFromJSON() {
            addDebugLog('Loading blogs from JSON...', 'info');
            
            try {
                const response = await fetch('blogs.json?v=' + Date.now());
                
                if (!response.ok) {
                    if (response.status === 404) {
                        addDebugLog('blogs.json not found - showing empty state', 'warning');
                        showEmptyBlogState();
                        showEmptyAdminState();
                        return;
                    }
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const text = await response.text();
                if (!text.trim()) {
                    throw new Error('Empty JSON file');
                }

                let data;
                try {
                    data = JSON.parse(text);
                } catch (parseError) {
                    throw new Error(`JSON parse error: ${parseError.message}`);
                }

                let blogs = [];
                if (Array.isArray(data.posts)) {
                    blogs = data.posts;
                } else if (Array.isArray(data)) {
                    blogs = data;
                } else {
                    addDebugLog('Invalid JSON structure, expected posts array', 'warning');
                }

                addDebugLog(`Loaded ${blogs.length} blogs`, 'success');

                const blogPosts = document.getElementById('blog-posts');
                const adminBlogList = document.getElementById('admin-blog-list');
                
                if (blogPosts) blogPosts.innerHTML = '';
                if (adminBlogList) adminBlogList.innerHTML = '';

                if (blogs.length === 0) {
                    showEmptyBlogState();
                    if (adminBlogList) showEmptyAdminState();
                    return;
                }

                blogs.forEach((blog, index) => {
                    try {
                        addBlogToPage(blog);
                        if (adminBlogList) addBlogToAdminPanel(blog);
                    } catch (blogError) {
                        addDebugLog(`Error displaying blog ${index}: ${blogError.message}`, 'error');
                    }
                });

                addDebugLog('Blogs loaded successfully', 'success');

            } catch (error) {
                addDebugLog('Blog loading failed: ' + error.message, 'error');
                console.error('Blog yÃ¼kleme hatasÄ±:', error);
                showEmptyBlogState();
                if (document.getElementById('admin-blog-list')) {
                    showEmptyAdminState();
                }
            }
        }

        function addBlogToPage(blog) {
            const blogPosts = document.getElementById('blog-posts');
            if (!blogPosts) return;

            const newPost = document.createElement('div');
            newPost.className = 'blog-post';
            newPost.setAttribute('data-id', blog.id);
            
            const previewText = blog.content.substring(0, 150) + (blog.content.length > 150 ? '...' : '');
            const showReadMore = blog.content.length > 150;
            const imageHtml = blog.imageUrl ? 
                `<img src="${blog.imageUrl}" alt="${blog.title}" onclick="openImageModal('${blog.imageUrl}', '${blog.title}')" onerror="this.style.display='none';">` : '';
            
            newPost.innerHTML = `
                <div class="blog-post-content">
                    ${imageHtml}
                    <h3>${blog.title}</h3>
                    <div class="blog-post-meta">${blog.date} - ${blog.author}</div>
                    <p class="blog-preview">${previewText}</p>
                    <div class="full-content" style="display:none;">${blog.content}</div>
                    ${showReadMore ? `<a href="#" class="read-more-link" onclick="showFullPost('${blog.id}'); return false;">DevamÄ±nÄ± Oku &rarr;</a>` : ''}
                </div>
            `;
            
            blogPosts.appendChild(newPost);
        }

        function addBlogToAdminPanel(blog) {
            const adminList = document.getElementById('admin-blog-list');
            if (!adminList) return;
            
            const newAdminPost = document.createElement('div');
            newAdminPost.className = 'post-item';
            newAdminPost.setAttribute('data-blog-id', blog.id);
            
            newAdminPost.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                    <div style="flex: 1;">
                        <h4>${blog.title}</h4>
                        <p style="color: #7f8c8d; font-size: 0.9rem;">${blog.date} - ${blog.author}</p>
                        <div class="post-actions">
                            <button type="button" class="btn" style="background: #17a2b8; font-size: 0.9rem; padding: 0.4rem 0.8rem;" onclick="showBlogJSON('${blog.id}')">ğŸ“‹ JSON</button>
                            <button type="button" class="btn btn-danger" style="font-size: 0.9rem; padding: 0.4rem 0.8rem;" onclick="deleteBlog('${blog.id}')">ğŸ—‘ï¸ Sil</button>
                        </div>
                    </div>
                </div>
            `;
            
            adminList.appendChild(newAdminPost);
        }

        function showBlogJSON(blogId) {
            fetch('blogs.json?v=' + Date.now())
                .then(response => response.json())
                .then(data => {
                    const blog = data.posts.find(b => b.id === blogId);
                    if (blog) {
                        const jsonText = JSON.stringify(blog, null, 2);
                        showModal('Blog JSON Verisi', `<pre style="background: #f5f5f5; padding: 1rem; border-radius: 5px; overflow-x: auto;">${jsonText}</pre>`);
                    }
                })
                .catch(error => {
                    addDebugLog('Blog JSON fetch error: ' + error.message, 'error');
                    alert('âŒ Blog verisi alÄ±namadÄ±: ' + error.message);
                });
        }

        function deleteBlog(blogId) {
            const confirmed = confirm('Bu blog yazÄ±sÄ±nÄ± silmek istediÄŸinizden emin misiniz?\n\nBu iÅŸlem iÃ§in GitHub\'da blogs.json dosyasÄ±nÄ± dÃ¼zenlemeniz gerekecek.');
            if (confirmed) {
                alert('ğŸ”§ Manuel Silme Gerekli:\n\n1. GitHub.com/dilgeoncel/kitapalanyerler/edit/main/blogs.json\n2. ID: ' + blogId + ' olan blog\'u bulun ve silin\n3. DeÄŸiÅŸiklikleri kaydedin');
            }
        }

        function showEmptyBlogState() {
            const blogPosts = document.getElementById('blog-posts');
            if (!blogPosts) return;
            
            blogPosts.innerHTML = `
                <div style="text-align: center; padding: 4rem; color: #7f8c8d;">
                    <h2 style="color: #95a5a6; margin-bottom: 1rem;">ğŸ“š Blog YazÄ±larÄ±</h2>
                    <p style="font-size: 1.1rem; margin-bottom: 1rem;">HenÃ¼z hiÃ§bir blog yazÄ±sÄ± eklenmemiÅŸ.</p>
                    <p style="margin: 0; color: #95a5a5;">YakÄ±nda blog yazÄ±larÄ±mÄ±zÄ± paylaÅŸacaÄŸÄ±z.</p>
                </div>
            `;
        }

        function showEmptyAdminState() {
            const adminList = document.getElementById('admin-blog-list');
            if (!adminList) return;
            
            adminList.innerHTML = `
                <div style="text-align: center; padding: 2rem; color: #7f8c8d; background: #f8f9fa; border-radius: 10px;">
                    <h4 style="color: #95a5a6; margin-bottom: 1rem;">ğŸ“ Blog YazÄ±sÄ± BulunamadÄ±</h4>
                    <p style="margin: 0; font-size: 0.9rem;">YukarÄ±daki formdan yeni blog yazÄ±sÄ± ekleyebilirsiniz.</p>
                </div>
            `;
        }

        // Blog GÃ¶nderme - GeliÅŸtirilmiÅŸ hata kontrolÃ¼ ile
        async function handleBlogSubmit() {
            const title = document.getElementById('post-title').value.trim();
            const content = document.getElementById('post-content').value.trim();
            const imageUrl = document.getElementById('post-image').value.trim();

            // Form validasyonu
            if (!title || !content) {
                alert('âŒ LÃ¼tfen baÅŸlÄ±k ve iÃ§erik alanlarÄ±nÄ± doldurun!');
                return;
            }

            const submitBtn = document.getElementById('blog-submit-btn');
            submitBtn.disabled = true;
            submitBtn.innerHTML = 'â³ Kaydediliyor...';

            addDebugLog('Starting blog submission...', 'info');

            try {
                const blog = {
                    id: `blog-${Date.now()}`,
                    title: title,
                    content: content,
                    imageUrl: imageUrl,
                    date: new Date().toLocaleDateString('tr-TR'),
                    author: 'Admin',
                    createdAt: new Date().toISOString()
                };

                addDebugLog('Blog object created: ' + JSON.stringify(blog, null, 2), 'info');

                const result = await updateBlogsJSON(blog);

                if (result) {
                    alert('âœ… Blog yazÄ±sÄ± baÅŸarÄ±yla eklendi!\n\nSayfayÄ± yenileyerek yeni blog yazÄ±nÄ±zÄ± gÃ¶rebilirsiniz.');
                    addDebugLog('Blog submitted successfully', 'success');
                    
                    // Formu temizle
                    document.getElementById('post-title').value = '';
                    document.getElementById('post-content').value = '';
                    document.getElementById('post-image').value = '';
                    
                    // Blog listesini yenile
                    await loadBlogsFromJSON();
                }

            } catch (error) {
                addDebugLog('Blog submission failed: ' + error.message, 'error');
                console.error('Blog ekleme hatasÄ±:', error);
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = 'ğŸ“¤ YazÄ±yÄ± YayÄ±nla';
            }
        }

        async function updateBlogsJSON(newBlog) {
            const token = getGitHubToken();
            if (!token) {
                const setupToken = confirm('GitHub Token bulunamadÄ±!\n\nOtomatik blog ekleme iÃ§in token gerekli.\n\nToken ayarlamak ister misiniz?');
                if (setupToken && setGitHubToken()) {
                    return updateBlogsJSON(newBlog);
                }
                throw new Error('GitHub token bulunamadÄ± - manuel ekleme gerekli');
            }

            addDebugLog('Updating blogs.json via GitHub API...', 'info');

            try {
                // 1. Dosya kontrolÃ¼
                const getFileResponse = await fetch('https://api.github.com/repos/dilgeoncel/kitapalanyerler/contents/blogs.json', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });

                let currentContent = { posts: [] };
                let sha;

                if (getFileResponse.status === 404) {
                    addDebugLog('blogs.json not found, creating new file', 'info');
                    currentContent.posts = [newBlog];
                } else if (getFileResponse.ok) {
                    const fileData = await getFileResponse.json();
                    sha = fileData.sha;
                    
                    try {
                        const decodedContent = atob(fileData.content);
                        currentContent = JSON.parse(decodedContent);
                        
                        if (!Array.isArray(currentContent.posts)) {
                            currentContent.posts = [];
                        }
                        
                        currentContent.posts.unshift(newBlog);
                        addDebugLog(`Adding blog to existing ${currentContent.posts.length - 1} posts`, 'info');
                    } catch (error) {
                        addDebugLog('JSON parse error, creating new structure', 'warning');
                        currentContent = { posts: [newBlog] };
                    }
                } else {
                    throw new Error(`GitHub API Error: ${getFileResponse.status} - ${await getFileResponse.text()}`);
                }

                // 2. Ä°Ã§eriÄŸi gÃ¼ncelle
                const updatedContent = JSON.stringify(currentContent, null, 2);
                const encodedContent = btoa(unescape(encodeURIComponent(updatedContent)));

                addDebugLog('Sending update to GitHub...', 'info');

                const updateResponse = await fetch('https://api.github.com/repos/dilgeoncel/kitapalanyerler/contents/blogs.json', {
                    method: 'PUT',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        message: `Blog eklendi: ${newBlog.title}`,
                        content: encodedContent,
                        sha: sha
                    })
                });

                if (!updateResponse.ok) {
                    const errorData = await updateResponse.json();
                    throw new Error(`GitHub Update Error: ${updateResponse.status} - ${JSON.stringify(errorData, null, 2)}`);
                }

                addDebugLog('Blog successfully saved to GitHub', 'success');
                return true;

            } catch (error) {
                addDebugLog('GitHub API Error: ' + error.message, 'error');
                
                // Fallback: Manual ekleme talimatlarÄ±
                const manualInstructions = `âŒ Otomatik ekleme baÅŸarÄ±sÄ±z: ${error.message}

ğŸ“‹ Manuel Ekleme:
1. GitHub.com/dilgeoncel/kitapalanyerler/edit/main/blogs.json
2. AÅŸaÄŸÄ±daki JSON'u posts dizisinin baÅŸÄ±na ekleyin:

${JSON.stringify(newBlog, null, 2)}

3. DeÄŸiÅŸiklikleri kaydedin`;
                
                alert(manualInstructions);
                throw error;
            }
        }

        // YardÄ±mcÄ± fonksiyonlar
        function showFullPost(postId) {
            const post = document.querySelector(`[data-id="${postId}"]`);
            if (!post) return;
            
            const title = post.querySelector('h3').textContent;
            const meta = post.querySelector('.blog-post-meta').textContent;
            const fullContent = post.querySelector('.full-content').textContent;
            
            showModal(title, `
                <div style="color: #7f8c8d; font-size: 0.9rem; margin-bottom: 1rem;">${meta}</div>
                <div style="line-height: 1.8; text-align: justify; white-space: pre-wrap;">${fullContent}</div>
            `);
        }

        function showModal(title, content) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
                padding: 2rem;
                box-sizing: border-box;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: white;
                    padding: 2rem;
                    border-radius: 15px;
                    max-width: 800px;
                    width: 100%;
                    max-height: 85vh;
                    overflow-y: auto;
                ">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h2 style="color: #2c3e50; margin: 0;">${title}</h2>
                        <button onclick="this.closest('div').parentElement.parentElement.remove()" style="
                            background: #e74c3c;
                            color: white;
                            border: none;
                            width: 35px;
                            height: 35px;
                            border-radius: 50%;
                            cursor: pointer;
                        ">&times;</button>
                    </div>
                    <div>${content}</div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function openImageModal(imageSrc, imageAlt) {
            const modal = document.createElement('div');
            modal.className = 'image-modal';
            modal.innerHTML = `
                <img src="${imageSrc}" alt="${imageAlt}">
                <div class="image-modal-close" onclick="this.parentElement.remove()">&times;</div>
            `;
            document.body.appendChild(modal);
        }

        // Event Listeners
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.shiftKey && (e.key === 'Q' || e.key === 'q')) {
                e.preventDefault();
                showPage('admin-login');
            }
        });

        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', function() {
            addDebugLog('Page loaded, initializing blog system', 'info');
            loadBlogsFromJSON();
            
            // Her 30 saniyede bir blog listesini gÃ¼ncelle
            setInterval(() => {
                if (document.getElementById('blog').classList.contains('active') || 
                    document.getElementById('admin-panel').classList.contains('active')) {
                    loadBlogsFromJSON();
                }
            }, 30000);
        });
    </script>
</body>
</html>
